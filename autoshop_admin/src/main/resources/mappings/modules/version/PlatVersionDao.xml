<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhilai.master.modules.version.dao.PlatVersionDao">
 	<resultMap type="com.zhilai.master.modules.version.entity.PlatVersion" id="PlatVersionResultMap">
 		<id property="logid" column="logid"/>
 		<result property="plat_code" column="plat_code" />
 		<result property="plat_name" column="plat_name" />
 		<result property="plat_version" column="plat_version" />
 		<result property="down_url" column="down_url" />
 		<result property="upgrade_log" column="upgrade_log" />
 		<result property="upgrade_id" column="upgrade_id" />
 		<result property="upgrade_install" column="upgrade_install" />
 		<result property="valid_stime" column="valid_stime" />
 		<result property="valid_etime" column="valid_etime" />
 		<result property="cur_state" column="cur_state" />
 		<result property="refrest_time" column="refrest_time" />
 		<result property="create_time" column="create_time" />
 		<result property="doc_name" column="doc_name" />
 		<result property="doc_size" column="doc_size" />
 	</resultMap>
    
	<select id="get" resultMap="PlatVersionResultMap">
		SELECT  *  FROM as_plat_version WHERE  logid = #{logid}
	</select>
	
	<select id="findList" resultMap="PlatVersionResultMap">
		SELECT * FROM as_plat_version where 1=1
		<if test="plat_code != null and plat_code != ''">
			AND plat_code = #{plat_code}
		</if>
		<if test="plat_version != null and plat_version != ''">
			AND plat_version = #{plat_version}
		</if>
		<if test="plat_name != null and plat_name != ''">
			AND plat_name  LIKE CONCAT('%',#{plat_name}, '%')
		</if>
		<if test="create_time != null and create_time != '' ">
			AND create_time  <![CDATA[>= ]]>  #{create_time}
		</if>
		ORDER BY create_time desc
	</select>

	
	<select id="findAllList" resultMap="PlatVersionResultMap">
		SELECT  *  FROM as_plat_version ORDER BY create_time 
	</select>
	<insert id="insert">
			INSERT INTO as_plat_version(logid,plat_code,plat_name,plat_version,down_url,upgrade_log,upgrade_id,upgrade_install,valid_stime,valid_etime
			,cur_state,refrest_time,create_time,doc_name,doc_size)
			values(#{logid},#{plat_code},#{plat_name},#{plat_version},#{down_url},#{upgrade_log},#{upgrade_id},#{upgrade_install},#{valid_stime},#{valid_etime}
			,#{cur_state},#{refrest_time},#{create_time},#{doc_name},#{doc_size})
	</insert>
	<update id="update">
		update as_plat_version set plat_code=#{plat_code},
		plat_name=#{plat_name},plat_version=#{plat_version},down_url=#{down_url},upgrade_log=#{upgrade_log},upgrade_id=#{upgrade_id},upgrade_install=#{upgrade_install},
		valid_etime=#{valid_etime},valid_stime=#{valid_stime},cur_state=#{cur_state},refrest_time=#{refrest_time},create_time=#{create_time},doc_name=#{doc_name},doc_size=#{doc_size}	
		where logid=#{logid}
	</update>
	
	<delete id="delete">
		delete from as_plat_version where logid = #{logid}
	</delete>
	
</mapper>