<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" ><mapper namespace="com.zhilai.master.modules.notice.dao.NoticeQueueDao" >		<resultMap type="com.zhilai.master.modules.notice.entity.NoticeQueue" id="noticeQueueMap">		<result property="logid" column="logid" />		<result property="queue_id" column="queue_id" />		<result property="corp_id" column="corp_id" />		<result property="corp_name" column="corp_name" />		<result property="order_id" column="order_id" />		<result property="temp_id" column="temp_id" />		<result property="temp_name" column="temp_name" />		<result property="main_type" column="main_type" />		<result property="sub_type" column="sub_type" />		<result property="notice_channel" column="notice_channel" />		<result property="notice_address" column="notice_address" />		<result property="notice_type" column="notice_type" />		<result property="login_id" column="login_id" />		<result property="login_name" column="login_name" />		<result property="send_num" column="send_num" />		<result property="fail_num" column="fail_num" />		<result property="level" column="level" />		<result property="send_state" column="send_state" />		<result property="state_time" column="state_time" />		<result property="cont" column="cont" />		<result property="create_time" column="create_time" />	</resultMap>		<sql id="Base_Column_List">		logid, queue_id, corp_id, corp_name, order_id, 		temp_id, temp_name, main_type, sub_type, notice_channel, 		notice_address, notice_type, login_id, login_name, send_num, fail_num, 		level, send_state, state_time, cont, create_time	</sql>		<select id="findList" resultMap="noticeQueueMap">		SELECT <include refid="Base_Column_List" /> FROM as_notice_queue WHERE 1=1		<if test="queue_id != null and queue_id != ''">			AND (queue_id = #{queue_id} OR queue_id LIKE 					<if test="dbName == 'oracle'">'%'||#{queue_id}||'%')</if>					<if test="dbName == 'mssql'">'%'+#{queue_id}+'%')</if>					<if test="dbName == 'mysql'">CONCAT('%', #{queue_id}, '%'))</if>		</if>		<if test="main_type != null and main_type != ''">			AND main_type = #{main_type}		</if>		ORDER BY send_state, create_time desc	</select>		<select id="get" resultMap="noticeQueueMap">		SELECT <include refid="Base_Column_List" /> 		FROM as_notice_queue		WHERE queue_id = #{queue_id}	</select>		<select id="findBySendState" resultMap="noticeQueueMap">		select * from as_notice_queue where send_state = #{send_state}	</select>		<select id="findNoticeQueue" resultMap="noticeQueueMap">		select * from as_notice_queue where 1 = 1		<if test="login_id != null and login_id != '' ">			and login_id = #{login_id}		</if>		<if test="notice_type != null and notice_type != '' ">			and notice_type = #{notice_type}		</if>		<if test="send_state != null and send_state != '' ">			and send_state = #{send_state}		</if>		 order by create_time desc	</select>		<delete id="delete">		DELETE FROM as_notice_queue		WHERE queue_id = #{queue_id}	</delete>		<insert id="insert">		INSERT INTO as_notice_queue(			logid, queue_id, corp_id, corp_name, order_id,			temp_id, temp_name, main_type, sub_type, notice_channel,			notice_address, notice_type, login_id, login_name, send_num,			fail_num, level, send_state, state_time, cont,create_time )		VALUES(			#{logid}, #{queue_id}, #{corp_id}, #{corp_name}, #{order_id},			#{temp_id}, #{temp_name}, #{main_type}, #{sub_type}, #{notice_channel},			#{notice_address}, #{notice_type}, #{login_id}, #{login_name}, #{send_num},			#{fail_num}, #{level}, #{send_state}, #{state_time}, #{cont},#{create_time} )	</insert>		<update id="update">		UPDATE as_notice_queue SET 			send_state = #{send_state},			state_time = #{state_time}		WHERE queue_id = #{queue_id}	</update>	</mapper>