<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.zhilai.master.modules.product.dao.ProductBrandDao">
 	<resultMap type="com.zhilai.master.modules.product.entity.ProductBrand" id="productBrandResultMap">
 		<id property="logid" column="logid" />
		<result property="brand_id" column="brand_id" />
		<result property="brand_name" column="brand_name"/>
		<result property="corp_id" column="corp_id"/>
		<result property="corp_name" column="corp_name"/>
		<result property="brandCorp_name" column="brandCorp_name"/>
		<result property="establish_time" column="establish_time"/>
		<result property="industry" column="industry"/>
		<result property="logo" column="logo"/>
		<result property="create_time" column="create_time"/>
 	</resultMap>
 	
 	<select id="get" resultMap="productBrandResultMap">
		SELECT 
			*
		FROM as_product_brand a
		WHERE a.logid = #{logid}
	</select>
	
	<select id="findList" resultMap="productBrandResultMap">
		SELECT 
			*
		FROM as_product_brand a WHERE 1=1 
		<if test="brand_name != null and brand_name != ''">
			AND a.brand_name like 
					<if test="dbName == 'oracle'">'%'||#{brand_name}||'%'</if>
					<if test="dbName == 'mssql'">'%'+#{brand_name}+'%'</if>
					<if test="dbName == 'mysql'">CONCAT('%', #{brand_name}, '%')</if>
		</if>
		<if test="brandCorp_name != null and brandCorp_name != ''">
			AND a.brandCorp_name like 
					<if test="dbName == 'oracle'">'%'||#{brandCorp_name}||'%'</if>
					<if test="dbName == 'mssql'">'%'+#{brandCorp_name}+'%'</if>
					<if test="dbName == 'mysql'">CONCAT('%', #{brandCorp_name}, '%')</if>
		</if>
		<if test="industry != null and industry != ''">
			AND a.industry like 
					<if test="dbName == 'oracle'">'%'||#{industry}||'%'</if>
					<if test="dbName == 'mssql'">'%'+#{industry}+'%'</if>
					<if test="dbName == 'mysql'">CONCAT('%', #{industry}, '%')</if>
		</if>
		<if test="corp_id != null and corp_id != ''">
			AND a.corp_id = #{corp_id}
		</if>
		ORDER BY a.create_time DESC
	</select>
	
	<select id="findExist" resultMap="productBrandResultMap">
		SELECT * FROM as_product_brand a WHERE a.brand_name=#{brand_name} AND a.corp_id = #{corp_id}
	</select>
	<select id="findOne" resultMap="productBrandResultMap">
		SELECT * FROM as_product_brand a WHERE a.brand_id=#{brand_id}
	</select>
	
	<insert id="insert">
		INSERT INTO
		as_product_brand(logid,brand_id,brand_name,corp_id,corp_name,brandCorp_name,establish_time,industry,logo,create_time)
		VALUES(#{logid},#{brand_id},#{brand_name},#{corp_id},#{corp_name},#{brandCorp_name},#{establish_time},#{industry},#{logo},#{create_time});
	</insert>
	
	<update id="update">
		update as_product_brand set
		corp_id=#{corp_id},corp_name=#{corp_name},brandCorp_name=#{brandCorp_name}, establish_time=#{establish_time},industry=#{industry},logo=#{logo}
		where logid =#{logid}
	</update>
	
	<delete id="delete">
		delete from as_product_brand where logid=#{logid}
	</delete>
	
 </mapper> 
 	
