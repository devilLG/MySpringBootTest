<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhilai.master.modules.site.dao.SiteDeviceDao">
<resultMap type="com.zhilai.master.modules.site.entity.SiteDevice" id="SiteDeviceResultMap">
 		<id property="logid" column="logid"/>
 		<result property="cabinet_seq" column="cabinet_seq" />
 		<result property="site_id" column="site_id" />
 		<result property="site_name" column="site_name" />
 		<result property="owner_id" column="owner_id" />
 		<result property="cabinet_location" column="cabinet_location" />
 		<result property="cabinet_type" column="cabinet_type" />
 		<result property="cabinet_batch_num" column="cabinet_batch_num" />
 		<result property="bind_state" column="bind_state" />
 		<result property="create_time" column="create_time" />
 	</resultMap>
    
	<select id="get" resultMap="SiteDeviceResultMap">
		SELECT  *  FROM as_site_device WHERE  logid = #{logid}
	</select>
	<select id="findList" resultMap="SiteDeviceResultMap">
		SELECT * FROM as_site_device where 1=1
		<if test="logid != null and logid != ''">
			AND logid = #{logid}
		</if>
		<if test="cabinet_seq != null and cabinet_seq != ''">
			AND cabinet_seq = #{cabinet_seq}
		</if>
		<if test="site_id != null and site_id != ''">
			AND site_id = #{site_id}
		</if>
		<if test="owner_id != null and owner_id != ''">
			AND owner_id = #{owner_id}
		</if>
		<if test="cabinet_type != null and cabinet_type != ''">
			AND cabinet_type = #{cabinet_type}
		</if>
		<if test="cabinet_location != null and cabinet_location != ''">
			AND cabinet_location = #{cabinet_location}
		</if>
		<if test="bind_state != null and bind_state != ''">
			AND bind_state = #{bind_state}
		</if>
		<if test="create_time != null and create_time != '' ">
			AND create_time  <![CDATA[>= ]]>  #{create_time}
		</if>
		ORDER BY create_time
	</select>

	
	<select id="findAllList" resultMap="SiteDeviceResultMap">
		SELECT  *  FROM as_site_device 
	</select>
	<insert id="insert">
			INSERT INTO as_site_device(logid,cabinet_seq,site_id,site_name,owner_id,cabinet_location,cabinet_type,cabinet_batch_num,bind_state,create_time)
			values(#{logid},#{cabinet_seq},#{site_id},#{site_name},#{owner_id},#{cabinet_location},#{cabinet_type},#{cabinet_batch_num},#{bind_state},#{create_time})
	</insert>
	<update id="update">
		update as_site_device set cabinet_seq=#{cabinet_seq},site_id=#{site_id},site_name=#{site_name},owner_id=#{owner_id},
		cabinet_location=#{cabinet_location},cabinet_type=#{cabinet_type},cabinet_batch_num=#{cabinet_batch_num},bind_state=#{bind_state},create_time=#{create_time}	
		where logid=#{logid}
	</update>
	
	<delete id="delete">
		delete from as_site_device where logid = #{logid}
	</delete>
	<delete id="deleteBysid">
		delete from as_site_device where site_id = #{site_id}
	</delete>
	
</mapper>