<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhilai.master.modules.site.dao.GroupDao">
    
	<select id="get" resultType="Group">
		SELECT  *  FROM dc_group WHERE  logid = #{logid}
	</select>
	<select id="getSiteGroup" resultType="Group">
		select * from dc_group where grp_id in (SELECT  DISTINCT(group_id) FROM dc_site)
	</select>
	<select id="findList" resultType="Group">
		SELECT * FROM dc_group where 1=1
		<if test="grpId != null and grpId != ''">
			AND grp_id = #{grpId}
		</if>
		<if test="grpName != null and grpName != ''">
			AND grp_name  LIKE CONCAT('%',#{grpName}, '%')
		</if>
		<if test="grpType != null and grpType != ''">
			AND grp_type = #{grpType}
		</if>
	</select>

	
	<select id="findAllList" resultType="Group">
		SELECT  *  FROM dc_group 
	</select>
	<insert id="insert">
			INSERT INTO dc_group(grp_id,grp_name,ename,description,grp_type)
			values(#{grpId},#{grpName},#{ename},#{description},#{grpType})
	</insert>
	<update id="update">
		update dc_group set grp_id = #{grpId},grp_name=#{grpName},
		ename=#{ename},description=#{description},grp_type=#{grpType}	
		where logid=#{logid}
	</update>
	
	<delete id="delete">
		delete from dc_group where logid = #{logid}
	</delete>
	
</mapper>