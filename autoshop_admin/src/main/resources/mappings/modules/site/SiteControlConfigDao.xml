<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhilai.master.modules.site.dao.SiteControlConfigDao">

	<resultMap type="com.zhilai.master.modules.site.entity.SiteControlConfig" id="siteControlResultMap">
		<id property="site_id" column="site_id" />
		<id property="trade_code" column="trade_code" />
		<result property="logid" column="logid" />
		<result property="site_name" column="site_name" />
		<result property="trade_name" column="trade_name" />
		<result property="is_log" column="is_log" />
		<result property="cur_state" column="cur_state" />
		<result property="update_time" column="update_time" />
		<result property="create_time" column="create_time" />
		<result property="oper_man" column="oper_man" />
	</resultMap>

	<select id="findAll" parameterType="String" resultMap="siteControlResultMap">
		select *
		from as_site_control_config where 1=1
		<if test="logid!= null and logid != ''">
			and logid=#{logid}
	     </if>
		<if test="site_id != null and site_id != ''">
			and site_id=#{site_id} 
	     </if>
	     <if test="trade_code != null and trade_code != ''">
			and trade_code=#{trade_code} 
	     </if>
	     <if test="is_log != null and is_log != ''">
			and is_log=#{is_log} 
	     </if>
		order by create_time desc
	</select>
	<select id="findList" resultMap="siteControlResultMap">
		SELECT * FROM as_site_control_config where 1=1
		<if test="logid!= null and logid != ''">
			and logid=#{logid}
	     </if>
		<if test="site_id != null and site_id != ''">
			and site_id=#{site_id} 
	     </if>
	     <if test="trade_code != null and trade_code != ''">
			and trade_code=#{trade_code} 
	     </if>
	     <if test="is_log != null and is_log != ''">
			and is_log=#{is_log} 
	     </if>
		ORDER BY create_time desc
	</select>

	<select id="findOne" resultMap="siteControlResultMap" parameterType="com.zhilai.master.modules.site.entity.SiteControlConfig">
		select * from as_site_control_config  where
		 site_id=#{site_id} and trade_code=#{trade_code} limit 0,1
	</select>

	<insert id="insert" parameterType="com.zhilai.master.modules.site.entity.SiteControlConfig">
		insert into
		as_site_control_config(logid,site_id,site_name,trade_code,trade_name,is_log,cur_state,update_time,create_time,oper_man
		)values(#{logid},#{site_id},#{site_name},#{trade_code},#{trade_name},#{is_log},#{cur_state},#{update_time},#{create_time},#{oper_man})
	</insert>
	
	<delete id="delete" parameterType="com.zhilai.master.modules.site.entity.SiteControlConfig">
	    delete from as_site_control_config where logid=#{logid}
	</delete>
	
	<delete id="deleteByIds" parameterType="com.zhilai.master.modules.site.entity.SiteControlConfig">
	    delete from as_site_control_config where logid in(${logid})
	</delete>
	
	<update id="update" parameterType="com.zhilai.master.modules.site.entity.SiteControlConfig">
	   update as_site_control_config set is_log=#{is_log},cur_state=#{cur_state},update_time=#{update_time}  where logid=#{logid}
	</update>
	
	<delete id="deleteBySiteId" parameterType="com.zhilai.master.modules.site.entity.SiteControlConfig">
		delete from	as_site_control_config where site_id=#{site_id}
	</delete> 
</mapper> 

