<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhilai.master.modules.workOrder.dao.WorkChangeDao">
	
	<select id="get" resultType="WorkChange">
		SELECT 
			* 
		FROM as_work_change 
		WHERE logid = #{logid}
	</select>
	
	<select id="findList" resultType="WorkChange">
		SELECT 
			* 
		FROM as_work_change  
		WHERE 1=1
		<if test="workId != null and workId != ''">
			AND work_id = #{workId} 
		</if>
		ORDER BY create_time DESC
	</select>
	
	<insert id="insert">
		INSERT INTO as_work_change(
			logid,
			corp_id,
			corp_name, 
			work_id, 
			work_title, 
			oper_action, 
			oper_time, 
			oper_id,
			oper_name,
			per_cont,
			create_time
		) VALUES (
			#{logid},
			#{corpId},
			#{corpName}, 
			#{workId}, 
			#{workTitle}, 
			#{operAction}, 
			#{operTime}, 
			#{operId},
			#{operName},
			#{perCont},
			#{createTime}
		)
	</insert> 
	
</mapper>