<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhilai.master.modules.monitor.dao.CabinetDeviceDao">
	
	<select id="get" resultType="CabinetDevice">
		SELECT 
			* 
		FROM as_cabinet_device 
		WHERE cadevice_id = #{cadeviceId}
	</select>
	
	<select id="findList" resultType="CabinetDevice">
		SELECT 
			* 
		FROM as_cabinet_device  
		WHERE 1=1
		<if test="cabconfigId != null and cabconfigId != ''">
				AND cabconfig_id = #{cabconfigId}
		</if>
		<if test="deviceName != null and deviceName != ''">
				AND device_name = #{deviceName}
		</if>
		<if test="deviceId != null and deviceId != ''">
				AND device_id = #{deviceId}
		</if>
		<if test="createTimeStart != null and createTimeStart != ''">
			AND (create_time &gt; #{createTimeStart} )
		</if>
		<if test="createTimeEnd != null and createTimeEnd != ''">
			AND (create_time &lt; DATE_ADD(#{createTimeEnd},INTERVAL 1 DAY) )
		</if>
		ORDER BY create_time DESC
	</select>
	
	<select id="findOneByLogid" resultType="CabinetDevice">
		SELECT 
			* 
		FROM as_cabinet_device 
		WHERE logid = #{logid}
	</select>
	
	<insert id="insert">
		INSERT INTO as_cabinet_device(
			logid,
			cadevice_id,
			cabconfig_id, 
			cabconfig_name, 
			device_id,
			device_code, 
			device_name, 
			device_model, 
			device_bard,
			device_mfrs,
			create_time
		) VALUES (
			#{logid},
			#{cadeviceId},
			#{cabconfigId}, 
			#{cabconfigName}, 
			#{deviceId}, 
			#{deviceCode}, 
			#{deviceName}, 
			#{deviceModel}, 
			#{deviceBard},
			#{deviceMfrs},
			#{createTime}
		)
	</insert>
	
	<delete id="delete">
	    delete from as_cabinet_device where cadevice_id = #{cadeviceId}
	</delete>
</mapper>