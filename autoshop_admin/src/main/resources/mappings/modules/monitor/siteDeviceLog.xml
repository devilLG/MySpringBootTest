<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhilai.master.modules.monitor.dao.SiteDeviceLogDao">
	
	<select id="get" resultType="SiteDeviceLog">
		SELECT 
			* 
		FROM as_site_device_log
		WHERE logid = #{logid}
	</select>
	
	<select id="findList" resultType="SiteDeviceLog">
		SELECT 
			* 
		FROM as_site_device_log 
		WHERE 1=1
		<if test="siteId != null and siteId != ''">
				AND site_id = #{siteId}
		</if>
		<if test="siteName != null and siteName != ''">
				AND site_name = #{siteName}
		</if>
		<if test="generateTimeStart != null and generateTimeStart != ''">
			AND (generate_time &gt; #{generateTimeStart} )
		</if>
		<if test="generateTimeEnd != null and generateTimeEnd != ''">
			AND (generate_time &lt; DATE_ADD(#{generateTimeEnd},INTERVAL 1 DAY) )
		</if>
		<if test="createTimeStart != null and createTimeStart != ''">
			AND (create_time &gt; #{createTimeStart} )
		</if>
		<if test="createTimeEnd != null and createTimeEnd != ''">
			AND (create_time &lt; DATE_ADD(#{createTimeEnd},INTERVAL 1 DAY) )
		</if>
		ORDER BY create_time DESC
	</select>

</mapper>