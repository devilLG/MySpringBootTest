<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhilai.master.modules.standard.dao.CabinetStandardDao">
 	<resultMap type="com.zhilai.master.modules.standard.entity.CabinetStandard" id="CabinetStandardResultMap">
 		<id property="logid" column="logid"/>
 		<result property="cabconfig_id" column="cabconfig_id" />
 		<result property="cabconfig_name" column="cabconfig_name" />
 		<result property="cabinettype_id" column="cabinettype_id" />
 		<result property="cabinettype_name" column="cabinettype_name" />
 		<result property="cabinetTemp_type" column="cabinetTemp_type" />
 		<result property="column_location" column="column_location" />
 		<result property="cabinet_type" column="cabinet_type" />
 		<result property="description" column="description" />
 		<result property="create_time" column="create_time" />
 	</resultMap>
    
	<select id="get" resultMap="CabinetStandardResultMap">
		SELECT  *  FROM as_cabinet_standard WHERE  logid = #{logid}
	</select>
	
	<select id="findList" resultMap="CabinetStandardResultMap">
		SELECT * FROM as_cabinet_standard where 1=1
		<if test="cabconfig_id != null and cabconfig_id != ''">
			AND cabconfig_id = #{cabconfig_id}
		</if>
		<if test="column_location != null and column_location != ''">
			AND column_location = #{column_location}
		</if>
		
		<if test="cabconfig_name != null and cabconfig_name != ''">
			AND cabconfig_name  LIKE CONCAT('%',#{cabconfig_name}, '%')
		</if>
		<if test="create_time != null and create_time != '' ">
			AND create_time  <![CDATA[>= ]]>  #{create_time}
		</if>
		<if test="cabinettype_id != null and cabinettype_id != ''">
			AND cabinettype_id = #{cabinettype_id}
		</if>
		
		ORDER BY create_time desc
	</select>

	<select id="findByCabconfigId" resultMap="CabinetStandardResultMap">
		SELECT  *  FROM as_cabinet_standard where cabconfig_id=#{cabconfig_id} ORDER BY column_location 
	</select>
	<select id="findAllList" resultMap="CabinetStandardResultMap">
		SELECT  *  FROM as_cabinet_standard GROUP BY cabconfig_id ORDER BY create_time 
	</select>
	<select id="findObj" parameterType="com.zhilai.master.modules.standard.entity.CabinetStandard" resultMap="CabinetStandardResultMap">
		select * from as_cabinet_standard where cabconfig_id=#{cabconfig_id} AND column_location = #{column_location} 
	</select>
	<insert id="insert">
			INSERT INTO as_cabinet_standard(logid,cabconfig_id,cabconfig_name,cabinettype_id,cabinettype_name,cabinetTemp_type,column_location,cabinet_type,create_time,description)
			values(#{logid},#{cabconfig_id},#{cabconfig_name},#{cabinettype_id},#{cabinettype_name},#{cabinetTemp_type},#{column_location},#{cabinet_type},#{create_time},#{description})
	</insert>
	<update id="update">
		update as_cabinet_standard set cabconfig_id=#{cabconfig_id},
		cabconfig_name=#{cabconfig_name},cabinettype_id=#{cabinettype_id},cabinettype_name=#{cabinettype_name},cabinetTemp_type=#{cabinetTemp_type},column_location=#{column_location},cabinet_type=#{cabinet_type},
		description=#{description},create_time=#{create_time}	
		where logid=#{logid}
	</update>
	
	<delete id="delete">
		delete from as_cabinet_standard where logid = #{logid}
	</delete>
	
</mapper>