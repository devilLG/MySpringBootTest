<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhilai.master.modules.parmter.dao.ParameterDao">
 	<resultMap type="com.zhilai.master.modules.parmter.entity.Parameter" id="ParameterResultMap">
 		<id property="logid" column="logid" />
		<result property="para_type" column="para_type" />
		<result property="name" column="name" />
		<result property="value" column="value" />
		<result property="description" column="description" />
 	</resultMap>
    
	<select id="get" resultMap="ParameterResultMap">
		SELECT  *  FROM sys_parameter WHERE  logid = #{logid}
	</select>
	
	<select id="findList" resultMap="ParameterResultMap">
		select * from sys_parameter t where 1=1
		<if test="logid != null and logid != '' ">
			AND t.logid=#{logid}
		</if>
		<if test="para_type != null and para_type != '' ">
			AND t.para_type = #{para_type}
		</if>
		<if test="name != null and name != '' ">
			and name like CONCAT('%',#{name},'%' )
		</if>
		<if test="value != null and value != '' ">
			AND t.value = #{value}
		</if>
		<if test="description != null and description != '' ">
			AND t.description = #{description}
		</if>
		order by t.logid desc
	</select>
	<insert id="insert">
		INSERT INTO
		sys_parameter(logid,para_type,name,value,description)
		VALUES(#{logid},#{para_type},#{name},#{value},#{description});
	</insert>
	<delete id="delete">
		delete from sys_parameter where logid=#{logid}
	</delete>
	<update id="update"> 
		update sys_parameter set
		para_type=#{para_type},name=#{name},value=#{value},
		description=#{description} where logid =#{logid}
	</update>
</mapper>