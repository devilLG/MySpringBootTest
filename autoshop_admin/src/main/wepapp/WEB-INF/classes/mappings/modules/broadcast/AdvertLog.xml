<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhilai.master.modules.broadcast.dao.AdvertLogDao">
	
	<select id="get" resultType="AdvertLog">
		SELECT 
			* 
		FROM as_advert_log 
		WHERE logid = #{logid}
	</select>
	
	<select id="findList" resultType="AdvertLog">
		SELECT 
			* 
		FROM as_advert_log  
		WHERE 1=1
		<if test="configId != null and configId != ''">
			AND config_id = #{configId} 
		</if>
		<if test="siteId != null and siteId != ''">
			AND site_id = #{siteId} 
		</if>
		<if test="operTimeStart != null and operTimeStart != ''">
			AND (oper_time &gt; #{operTimeStart} )
		</if>
		<if test="operTimeEnd != null and operTimeEnd != ''">
			AND (oper_time &lt; DATE_ADD(#{operTimeEnd},INTERVAL 1 DAY) )
		</if>
		ORDER BY oper_time DESC , create_time DESC
	</select>
	
</mapper>